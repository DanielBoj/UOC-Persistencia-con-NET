<mat-card class="detail-box">
  <mat-card-header>
    <mat-card-title>
      <h1>{{ title }}</h1>
    </mat-card-title>
    <mat-card-subtitle>
      <h2>{{ subtitle }}</h2>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content *ngFor="let element of clienteData">
    <h3>{{ element.name }}</h3>
    <p>{{ element.value }}</p>
  </mat-card-content>
  <mat-card-actions *ngIf="tipoUsuario == 'admin'">
    <button mat-fab [hidden]="showEdit" (click)="showEdit = !showEdit">
      Editar
    </button>
    <!-- <button mat-button (click)="goBack()">Volver</button> -->
  </mat-card-actions>
  <mat-card-actions *ngIf="tipoUsuario == 'usuario'">
    <button mat-fab [hidden]="showEdit2" (click)="showEdit2 = !showEdit2">
      Editar
    </button>
    <!-- <button mat-button (click)="goBack()">Volver</button> -->
  </mat-card-actions>
</mat-card>

<ng-container *ngIf="showEdit">
  <mat-card class="form-box">
    <mat-card-header>
      <mat-card-title>
        <h1>Editar Cliente</h1>
      </mat-card-title>
      <mat-card-subtitle>
        <h2>Introduce los nuevos datos</h2>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <ng-form #centroForm="ngForm">
        <div>
          <mat-form-field class="full-width">
            <mat-label>Nombre</mat-label>
            <input class="form-control"
                   type="text"
                   matInput
                   placeholder="Nombre"
                   name="nombre"
                   [(ngModel)]="clienteModel.nombre"
                   required
                   ng-valid />
            <mat-hint>Introduce el nombre del cliente</mat-hint>
          </mat-form-field>
        </div>
      </ng-form>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Nif</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Nif"
                 name="nif"
                 [(ngModel)]="clienteModel.nif"
                 required
                 ng-valid />
          <mat-hint>Introduce el nif del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div><h4>Dirección</h4></div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Domicilio</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Domicilio"
                 name="domicilio"
                 [(ngModel)]="clienteModel.direccion.domicilio"
                 required
                 ng-valid />
          <mat-hint>Introduce el domicilio del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Población</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Poblacion"
                 name="poblacion"
                 [(ngModel)]="clienteModel.direccion.poblacion"
                 required
                 ng-valid />
          <mat-hint>Introduce la población del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Código Postal</mat-label>
          <input class="form-control"
                 type="number"
                 matInput
                 placeholder="Cp"
                 name="cp"
                 [(ngModel)]="clienteModel.direccion.cp"
                 required
                 ng-valid />
          <mat-hint>Introduce el código postal del centro</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>País</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Pais"
                 name="pais"
                 [(ngModel)]="clienteModel.direccion.pais"
                 required
                 ng-valid />
          <mat-hint>Introduce el país del centro</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Teléfono</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Telefono"
                 name="telefono"
                 [(ngModel)]="clienteModel.telefono"
                 required
                 ng-valid />
          <mat-hint>Introduce el teléfono del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Email</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Email"
                 name="email"
                 [(ngModel)]="clienteModel.email"
                 required
                 ng-valid />
          <mat-hint>Introduce el email del cliente</mat-hint>
          <mat-error *ngIf="!validateEmail()">
            {{
            getErrorMessage()
            }}
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Contraseña</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Contraseña"
                 name="contraseña"
                 [(ngModel)]="clienteModel.pass"
                 required
                 ng-valid />
          <mat-hint>Introduce la nueva contraseña</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Tipo de Usuario</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Usuario"
                 name="usuario"
                 [(ngModel)]="clienteModel.tipo"
                 required
                 ng-valid />
          <mat-hint>Introduce el tipo de usuario</mat-hint>
        </mat-form-field>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-fab (click)="editCliente()">Aceptar</button>
      <button mat-fab (click)="showEdit = !showEdit; resetCliente()">
        Cancelar
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>

<ng-container *ngIf="showEdit2">
  <mat-card class="form-box">
    <mat-card-header>
      <mat-card-title>
        <h1>Editar Sus Datos</h1>
      </mat-card-title>
      <mat-card-subtitle>
        <h2>Introduce los nuevos datos</h2>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div><h4>Dirección</h4></div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Domicilio</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Domicilio"
                 name="domicilio"
                 [(ngModel)]="clienteModel.direccion.domicilio"
                 required
                 ng-valid />
          <mat-hint>Introduce el domicilio del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Población</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Poblacion"
                 name="poblacion"
                 [(ngModel)]="clienteModel.direccion.poblacion"
                 required
                 ng-valid />
          <mat-hint>Introduce la población del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Código Postal</mat-label>
          <input class="form-control"
                 type="number"
                 matInput
                 placeholder="Cp"
                 name="cp"
                 [(ngModel)]="clienteModel.direccion.cp"
                 required
                 ng-valid />
          <mat-hint>Introduce el código postal del centro</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>País</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Pais"
                 name="pais"
                 [(ngModel)]="clienteModel.direccion.pais"
                 required
                 ng-valid />
          <mat-hint>Introduce el país del centro</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>Teléfono</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Telefono"
                 name="telefono"
                 [(ngModel)]="clienteModel.telefono"
                 required
                 ng-valid />
          <mat-hint>Introduce el teléfono del cliente</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width">
          <mat-label>IBAN</mat-label>
          <input class="form-control"
                 type="text"
                 matInput
                 placeholder="Iban"
                 name="iban"
                 [(ngModel)]="clienteModel.iban"
                 required
                 ng-valid />
          <mat-hint>Introduce el teléfono del cliente</mat-hint>
        </mat-form-field>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-fab (click)="editCliente()">Aceptar</button>
      <button mat-fab (click)="showEdit2 = !showEdit; resetCliente()">
        Cancelar
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>
